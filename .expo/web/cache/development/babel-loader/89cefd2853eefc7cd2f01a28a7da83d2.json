{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/tim/Desktop/voice-conversion-frontend/pages/RecordAudio.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { IconButton, withTheme, Text, Colors } from \"react-native-paper\";\n\nfunction msToString(s) {\n  var ms = String(s % 1000).slice(0, 2);\n  var secs = String(Math.floor((s - ms) / 1000));\n\n  if (secs.length == 1) {\n    secs = \"0\" + secs;\n  }\n\n  if (ms.length == 1) {\n    ms = \"0\" + ms;\n  }\n\n  return secs + ':' + ms;\n}\n\nvar RecordAudio = function (_PureComponent) {\n  _inherits(RecordAudio, _PureComponent);\n\n  var _super = _createSuper(RecordAudio);\n\n  function RecordAudio() {\n    var _this;\n\n    _classCallCheck(this, RecordAudio);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      isRecording: false,\n      timeElapsed: \"00:00\",\n      micBars: 0,\n      audio: null\n    };\n\n    _this.startRecording = function () {\n      _this.setState({\n        isRecording: true,\n        audio: null\n      }, _this.startCounter);\n    };\n\n    _this.startCounter = function () {\n      _this.startTime = Date.now();\n\n      _this.tick();\n    };\n\n    _this.tick = function () {\n      var isRecording = _this.state.isRecording;\n\n      if (isRecording) {\n        var msElapsed = Date.now() - _this.startTime;\n\n        _this.setState({\n          timeElapsed: msToString(msElapsed)\n        });\n\n        setTimeout(_this.tick, 25);\n      }\n    };\n\n    _this.stopRecording = function () {\n      _this.setState({\n        isRecording: false,\n        audio: \"smth\"\n      });\n    };\n\n    _this.displayMicBars = function () {\n      var micBars = _this.state.micBars;\n      var theme = _this.props.theme;\n      var bars = [];\n\n      for (var i = 1; i < 11; i++) {\n        bars.push(React.createElement(View, {\n          style: {\n            height: 80,\n            width: \"6%\",\n            marginRight: 8,\n            backgroundColor: micBars >= i ? theme.colors.primary : theme.colors.surface\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }\n        }));\n      }\n\n      return bars;\n    };\n\n    return _this;\n  }\n\n  _createClass(RecordAudio, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          isRecording = _this$state.isRecording,\n          timeElapsed = _this$state.timeElapsed,\n          audio = _this$state.audio;\n      var theme = this.props.theme;\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          marginTop: 32\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 50\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }\n      }, timeElapsed)), React.createElement(View, {\n        style: {\n          display: \"flex\",\n          flexDirection: \"row\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, this.displayMicBars()), React.createElement(View, {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          flexDirection: \"row\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, React.createElement(IconButton, {\n        icon: \"harddisk\",\n        size: 48,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }\n      }), React.createElement(IconButton, {\n        icon: isRecording ? \"stop-circle\" : \"microphone\",\n        size: 80,\n        color: theme.colors.primary,\n        onPress: isRecording ? this.stopRecording : this.startRecording,\n        animated: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }\n      }), React.createElement(IconButton, {\n        icon: \"check\",\n        size: 48,\n        disabled: !audio,\n        color: audio ? theme.colors.primary : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return RecordAudio;\n}(PureComponent);\n\nexport default withTheme(RecordAudio);\nvar styles = StyleSheet.create({\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    backgroundColor: \"#121212\",\n    paddingTop: 16,\n    paddingBottom: 16,\n    flex: 1\n  }\n});","map":{"version":3,"sources":["/home/tim/Desktop/voice-conversion-frontend/pages/RecordAudio.js"],"names":["React","PureComponent","IconButton","withTheme","Text","Colors","msToString","s","ms","String","slice","secs","Math","floor","length","RecordAudio","state","isRecording","timeElapsed","micBars","audio","startRecording","setState","startCounter","startTime","Date","now","tick","msElapsed","setTimeout","stopRecording","displayMicBars","theme","props","bars","i","push","height","width","marginRight","backgroundColor","colors","primary","surface","styles","container","marginTop","fontSize","display","flexDirection","alignItems","StyleSheet","create","justifyContent","paddingTop","paddingBottom","flex"],"mappings":"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","sourcesContent":["import React, {PureComponent} from \"react\";\nimport {\n    StyleSheet, \n    View, \n} from  \"react-native\";\nimport { IconButton, withTheme, Text, Colors } from \"react-native-paper\";\n\nfunction msToString (s) {\n    let ms = String(s % 1000).slice(0, 2);\n    let secs = String(Math.floor((s - ms) / 1000));\n    if (secs.length == 1) {\n        secs = \"0\" + secs;\n    }\n    if (ms.length == 1) {\n        ms = \"0\" + ms;\n    }\n  \n    return secs + ':' + ms;\n  }\n\nclass RecordAudio extends PureComponent {\n    state = { isRecording: false, timeElapsed: \"00:00\", micBars: 0, audio: null };\n\n    startRecording = () => {\n         this.setState({isRecording: true, audio: null}, this.startCounter);\n    }\n\n    startCounter = () => {\n        this.startTime = Date.now();\n        this.tick();\n    }\n\n    tick = () => {\n        const {isRecording} = this.state;\n        if(isRecording) {\n            const msElapsed = Date.now() - this.startTime;\n            this.setState({timeElapsed: msToString(msElapsed)});\n            setTimeout(this.tick, 25);\n        }\n    }\n\n    stopRecording = () => {\n        this.setState({isRecording: false, audio: \"smth\"});\n    }\n\n    displayMicBars = () => {\n        const {micBars} = this.state;\n        const {theme} = this.props;\n        const bars = [];\n        for (let i = 1; i < 11; i++) {\n          bars.push(\n              <View\n                style={{\n                  height: 80,\n                  width: \"6%\",\n                  marginRight: 8,\n                  backgroundColor: micBars >= i ? theme.colors.primary : theme.colors.surface,\n                }}\n              ></View>,\n          );\n        }\n        return bars;\n      };\n\n    render() {\n        const {isRecording, timeElapsed, audio} = this.state;\n        const {theme} = this.props;\n        return (\n            <View style={styles.container}>\n                <View style={{marginTop: 32}}>\n                    <Text style={{fontSize: 50}}>{timeElapsed}</Text>\n                </View>\n                <View style={{display: \"flex\", flexDirection: \"row\"}}>\n                    {this.displayMicBars()}\n                </View>\n                <View style={{display: \"flex\", alignItems: \"center\", flexDirection:\"row\"}}>\n                    <IconButton\n                        icon=\"harddisk\"\n                        size={48}\n                    />\n                    <IconButton\n                        icon={isRecording ? \"stop-circle\" : \"microphone\"}\n                        size={80}\n                        color={theme.colors.primary}\n                        onPress={isRecording ? this.stopRecording : this.startRecording}\n                        animated\n                    />\n                    <IconButton\n                        icon=\"check\"\n                        size={48}\n                        disabled={!audio}\n                        color={audio ? theme.colors.primary: null}\n                    />\n                </View>\n            </View>\n        );\n    }\n}\n\nexport default withTheme(RecordAudio);\n\nconst styles = StyleSheet.create({\n    container: { \n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        backgroundColor: \"#121212\",\n        paddingTop: 16,\n        paddingBottom: 16,\n        flex: 1,\n    },\n});"]},"metadata":{},"sourceType":"module"}